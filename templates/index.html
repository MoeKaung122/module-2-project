{% extends "base.html" %}



{% block title %} hello booking {% endblock %}


{% block body %}
<!--================Banner Area =================-->
<section class="banner_area">
    <div class="booking_table d_flex align-items-center">
        <div class="overlay bg-parallax" data-stellar-ratio="0.9" data-stellar-vertical-offset="0" data-background="">
        </div>
        <div class="container">
            <div class="banner_content text-center">
                <h6> Discover</h6>
                <h2> welcome to Hello Booking </h2>
                <p>Introducing Myanmar‚Äôs first large-scale hotel booking platform, featuring an extensive network of
                    over 100 cities and nearly 1,000 hotels nationwide. Designed for simplicity, speed, and convenience,
                    it offers the most seamless booking experience in the country. The ultimate travel
                    companion‚Äîtrusted, accessible, and essential for every Myanmar traveler.</p>
                <a href="#start" class="btn theme_btn button_hover">Get Started</a>
            </div>


        </div>


</section>
<!--================Banner Area =================-->

<section class="accomodation_area section_gap">
    <div class="container">
        <div class="row  " id="start">
            <div class="text-center">
                <h1>hotel</h1>
            </div>
            <form method="GET" action="" class="my-5">

                <div class="row g-2">
                    <div class="col-md-4">
                        <input type="text" name="search" class="form-control" placeholder="Search hotels..."
                            value="{{ old_search|default:'' }}">
                    </div>

                    <div class="col-md-3">
                        <select name="city" class="form-select">
                            <option value="">City</option>

                            {% for c in city %}
                            <option value="{{ c.id }}" {% if old_city == c.id|stringformat:"s" %}selected{% endif %}>
                                {{ c.name }}
                            </option>
                            {% endfor %}

                        </select>
                    </div>


                    <div class="col-md-2">
                        <button class="btn btn-primary w-100">Search</button>
                    </div>
                </div>


            </form>

            {% if page_obj %}
            {% for h in page_obj %} <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm"> <!-- Image -->
                    <div style="height:220px; overflow:hidden;"> <img src="{{h.image.url}}" class="card-img-top"
                            alt="Hotel Image" style="object-fit:cover; width:100%; height:100%;"> </div>
                    <div class="card-body d-flex flex-column"> <!-- Header: name + city + rating -->
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h5 class="card-title mb-0">{{h.name}}</h5> <small
                                    class="text-muted">{{h.address}}</small>
                            </div>
                            <div class="text-end"> <span class="badge bg-success"> {{ h.rating }} ‚òÖ</span> </div>
                        </div> <!-- Description -->
                        <p class="card-text text-truncate"
                            style="max-height:3.6em; line-height:1.2em; overflow:hidden;"> {{h.description}} </p>
                        <!-- Amenities -->
                        <div class="mb-3"> <small class="text-muted"> üõèÔ∏è Free Wifi &nbsp; ‚Ä¢ &nbsp; üçΩÔ∏è Restaurant
                                &nbsp; ‚Ä¢ &nbsp; üÖøÔ∏è Parking </small> </div> <!-- Footer: price + buttons -->
                        <div class="mt-auto d-flex justify-content-between align-items-center">
                            <div>
                                <div class="fw-bold">{{h.lowest_price}} Ks<small
                                        class="text-muted fw-normal">/night</small> </div> <small
                                    class="text-success">Free cancellation</small>
                            </div>
                            <div class="btn-group" role="group" aria-label="actions"> <a href="/hotel/detail/{{h.id}}/"
                                    class="btn btn-outline-primary btn-sm">View</a> <a href="/hotel/detail/{{h.id}}/"
                                    class="btn btn-primary btn-sm">Book</a> </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}

            {% if page_obj.has_other_pages %}
            <div class="d-flex justify-content-center mt-4">
                <nav aria-label="pagination">
                    <ul class="pagination">

                        {# Previous #}
                        {% if page_obj.has_previous %}
                        <li class="page-item">
                            <a class="page-link"
                                href="?page={{ page_obj.previous_page_number }}{% if old_search %}&search={{ old_search }}{% endif %}{% if old_city %}&city={{ old_city }}{% endif %}">
                                Previous
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled"><span class="page-link">Previous</span></li>
                        {% endif %}

                        {# Page numbers #}
                        {% for p in page_obj.paginator.page_range %}
                        {% if page_obj.number == p %}
                        <li class="page-item active"><span class="page-link">{{ p }}</span></li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link"
                                href="?page={{ p }}{% if old_search %}&search={{ old_search }}{% endif %}{% if old_city %}&city={{ old_city }}{% endif %}">
                                {{ p }}
                            </a>
                        </li>
                        {% endif %}
                        {% endfor %}

                        {# Next #}
                        {% if page_obj.has_next %}
                        <li class="page-item">
                            <a class="page-link"
                                href="?page={{ page_obj.next_page_number }}{% if old_search %}&search={{ old_search }}{% endif %}{% if old_city %}&city={{ old_city }}{% endif %}">
                                Next
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled"><span class="page-link">Next</span></li>
                        {% endif %}

                    </ul>
                </nav>
            </div>
            {% endif %}


            {% else %}
            <div class="text-center">
                <h2> no found
                </h2>

            </div>

            {% endif %}

        </div>
</section>




<!--================ Latest Blog Area  =================-->
<section class="latest_blog_area section_gap">
    <div class="container">
        <div class="section_title text-center">
            <h2 class="title_color">latest posts from blog</h2>
            <p>The French Revolution constituted for the conscience of the dominant aristocratic class a fall from </p>
        </div>
        <div class="row mb_30">
            {% for city in city %}
            <div class="col-lg-3 col-sm-6">
                <div class="accomodation_item text-center">
                    <div class="hotel_img">
                        <img src="{{ city.image.url }}" alt="" width="450px" height="300px" style="object-fit: cover;">
                        <a href=" #" class="btn theme_btn button_hover">Book Now</a>
                    </div>
                    <a href="#">
                        <h4 class="sec_h4">{{city.name}}</h4>
                    </a>
                    <h5><small>{{city.country}}</small></h5>
                </div>
            </div>

            {% endfor %}


        </div>

    </div>
</section>



<script>
    // Save scroll position before reload
    window.addEventListener("beforeunload", function () {
        localStorage.setItem("scrollPos", window.scrollY);
    });

    // Restore scroll position after reload
    window.addEventListener("load", function () {
        const scrollPos = localStorage.getItem("scrollPos");
        if (scrollPos !== null) {
            window.scrollTo(0, parseInt(scrollPos));
        }
    });
</script>


{% endblock %}